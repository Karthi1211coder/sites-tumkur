<!DOCTYPE html>
<html>
<head>
    <title>{% if is_edit %}Update Site{% else %}Upload Site{% endif %}</title>
</head>
<body>

<h2>
    {% if is_edit %}
        Update Site Details
    {% else %}
        Upload Site Details
    {% endif %}
</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <p>
        <label>Site Name:</label><br>
        {{ form.name }}
    </p>

    <p>
        <label>Location / City:</label><br>
        {{ form.location }}
    </p>

    <p>
        <label>Area (sq.ft):</label><br>
        {{ form.area }}
    </p>

    <p>
        <label>Price:</label><br>
        {{ form.price }}
    </p>

    <p>
        <label>Owner:</label><br>
        {{ form.owner }}
    </p>

    <p>
        <label>Plot Size (sq.ft):</label><br>
        {{ form.plot_size }}
    </p>

    <p>
        <label>Facing:</label><br>
        {{ form.facing }}
    </p>

    <p>
        <label>Ownership Type:</label><br>
        {{ form.ownership_type }}
    </p>

    <p>
        <label>Availability:</label><br>
        {{ form.availability }}
    </p>

    <p>
        <label>Road Width (ft):</label><br>
        {{ form.road_width }}
    </p>

    <p>
        <label>Nearby Landmark:</label><br>
        {{ form.landmark }}
    </p>

    <p>
        <label>Distance to Main Road (meters):</label><br>
        {{ form.distance_to_main_road }}
    </p>

    <p>
        <label>Zoning Type:</label><br>
        {{ form.zoning_type }}
    </p>

    <p>
        <label>Latitude:</label><br>
        {{ form.latitude }}
    </p>

    <p>
        <label>Longitude:</label><br>
        {{ form.longitude }}
    </p>

    {% if is_edit and form.initial.image %}
        <p>
            <label>Current Image:</label><br>
            <img src="{{ form.initial.image }}" width="200">
        </p>
    {% endif %}

    <p>
        <label>Upload Image:</label><br>
        {{ form.image }}
        <small>
            {% if is_edit %}
                (Upload a new image only if you want to replace the existing one)
            {% else %}
                (Upload one image)
            {% endif %}
        </small>
    </p>

    <button type="submit">
        {% if is_edit %}Update Site{% else %}Upload Site{% endif %}
    </button>
</form>

<br>

<a href="{% url 'site_list' %}">View Approved Sites</a>

{% if is_edit %}
    <br><br>
    <a href="{% url 'admin_dashboard' %}">Back to Admin Dashboard</a>
{% endif %}

</body>
</html>
